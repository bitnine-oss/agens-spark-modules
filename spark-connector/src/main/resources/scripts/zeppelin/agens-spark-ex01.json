{"paragraphs":[{"text":"import net.bitnine.agens.spark.Agens.ResultsAsDF\nimport net.bitnine.agens.spark.AgensBuilder\n\nval agens = AgensBuilder(spark)\n// \t\t.host(\"minmac\")\n// \t\t.port(\"29200\")\n// \t\t.user(\"elastic\")\n// \t\t.password(\"bitnine\")\n// \t\t.vertexIndex(\"agensvertex\")\n// \t\t.edgeIndex(\"agensedge\")\n\t\t.build\nval datasource = \"modern\"\n\nval graphModern = agens.graph(datasource)\nprintln(\"\\n** schema: \"+graphModern.schema.toString)\n\nagens.catalog.store(\"modern\", graphModern)\nprintln(\"\\n** [start] graphs: \"+agens.catalog.graphNames.map(_.graphName).mkString(\"[\",\"],[\",\"]\"))\n// start ==> graphs: [emptyGraph],[modern]\n","user":"anonymous","dateUpdated":"2020-09-22T18:21:03+0900","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1600766353711_439767964","id":"20200922-181913_1230456416","dateCreated":"2020-09-22T18:19:13+0900","dateStarted":"2020-09-22T18:21:03+0900","dateFinished":"2020-09-22T18:21:06+0900","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:23873"},{"text":"// from session\nval result1 = agens.cypher(\"FROM GRAPH session.modern MATCH (n) RETURN n\")\nresult1.show","user":"anonymous","dateUpdated":"2020-09-22T18:59:24+0900","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1600766390129_455909086","id":"20200922-181950_259747024","dateCreated":"2020-09-22T18:19:50+0900","dateStarted":"2020-09-22T18:21:38+0900","dateFinished":"2020-09-22T18:21:47+0900","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:23874"},{"text":"// from default session\nval result2 = agens.cypher(\"FROM GRAPH modern MATCH ()-[e]-() RETURN e\")\nresult2.show","user":"anonymous","dateUpdated":"2020-09-22T18:59:09+0900","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1600766498276_1619278006","id":"20200922-182138_1347163632","dateCreated":"2020-09-22T18:21:38+0900","dateStarted":"2020-09-22T18:21:57+0900","dateFinished":"2020-09-22T18:22:09+0900","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:23875"},{"text":"// from graph\nval result3 = graphModern.cypher(\"\"\"|MATCH (a:person)-[r:knows]->(b)\n\t\t\t\t\t\t\t\t\t|RETURN a.name, b.name, r.weight\n\t\t\t\t\t\t\t\t\t|ORDER BY a.name\"\"\".stripMargin)\nresult3.show","user":"anonymous","dateUpdated":"2020-09-22T18:58:43+0900","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1600766517554_-465941672","id":"20200922-182157_492509117","dateCreated":"2020-09-22T18:21:57+0900","dateStarted":"2020-09-22T18:22:14+0900","dateFinished":"2020-09-22T18:22:20+0900","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:23876"},{"text":"val result4 = graphModern.cypher(\"MATCH (a)-[r:knows]->(b) RETURN a, b\")\nresult4.show","user":"anonymous","dateUpdated":"2020-09-22T19:00:00+0900","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1600766591845_-1406442934","id":"20200922-182311_699668887","dateCreated":"2020-09-22T18:23:11+0900","dateStarted":"2020-09-22T18:23:36+0900","dateFinished":"2020-09-22T18:23:43+0900","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:23877"},{"text":"agens.catalog.dropGraph(datasource)\nprintln(\"\\n** [end] graphs: \"+agens.catalog.graphNames.map(_.graphName).mkString(\"[\",\"],[\",\"]\"))","user":"anonymous","dateUpdated":"2020-09-22T18:23:52+0900","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1600766616958_341522155","id":"20200922-182336_1727461853","dateCreated":"2020-09-22T18:23:36+0900","dateStarted":"2020-09-22T18:23:52+0900","dateFinished":"2020-09-22T18:23:52+0900","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:23878"},{"user":"anonymous","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1600766632392_940733895","id":"20200922-182352_918606117","dateCreated":"2020-09-22T18:23:52+0900","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:23879"}],"name":"agens-spark-ex01","id":"2FMCCTGAP","noteParams":{},"noteForms":{},"angularObjects":{"jdbc:shared_process":[],"spark:shared_process":[],"hive:shared_process":[],"livy:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}